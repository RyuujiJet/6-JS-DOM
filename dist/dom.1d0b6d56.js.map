{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","newNode","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","NewParent","remove","removeChild","empty","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","test","innerText","textContent","html","style","obj","Object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","find1","style1","each1"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"..\\src","sourcesContent":["window.dom = {\r\n    // 增 → 创建节点\r\n    create(string) {\r\n        const container = document.createElement('template')\r\n        container.innerHTML = string.trim()\r\n        return container.content.firstChild\r\n    },\r\n    // 增 → 新增弟弟\r\n    after(node, newNode) {\r\n        node.parentNode.insertBefore(newNode, node.nextSibling)\r\n    },\r\n    // 增 → 新增哥哥\r\n    before(node, newNode) {\r\n        node.parentNode.insertBefore(newNode, node)\r\n    },\r\n    // 增 → 新增儿子\r\n    append(parent, newNode) {\r\n        parent.appendChild(newNode)\r\n    },\r\n    // 增 → 新增爸爸\r\n    wrap(node, NewParent) {\r\n        dom.before(node, NewParent) // 先将新的父节点插入子元素之前，成为哥哥节点\r\n        dom.append(NewParent, node) // 再将子元素新增为哥哥节点的子节点（子元素只有一个，不会重复）\r\n    },\r\n    // 删 → 删除节点\r\n    remove(node) {\r\n        node.parentNode.removeChild(node)\r\n        return node // 以防后续操作\r\n    },\r\n    // 删 → 删除后代\r\n    empty(node) {\r\n        // 方法一：node.innerHTML = ''\r\n        // 方法二：可以获取到所有节点\r\n        // const {childNodes} = node // const childNodes = node.childNodes\r\n        const array = []\r\n        let x = node.firstChild\r\n        while(x) {\r\n            array.push(dom.remove(node.firstChild))\r\n            x = node.firstChild\r\n        }\r\n        return array\r\n    },\r\n    // 改 → 读写属性\r\n    attr(node, name, value) { // 重载\r\n        if(arguments.length === 3){\r\n            node.setAttribute(name, value)\r\n        } else if(arguments.length === 2) {\r\n            return node.getAttribute(name)\r\n        }\r\n    },\r\n    // 改 → 读写文本内容\r\n    test(node, value) { // 适配\r\n        // node.innerText // ie\r\n        // node.textContent // Firefox / Chrome\r\n        if (arguments.length === 2) {\r\n            if ('innerText' in node) {\r\n                node.innerText = value\r\n            } else {\r\n                node.textContent = value\r\n            }\r\n        } else if (arguments.length === 1) {\r\n            if ('innerText' in node) {\r\n                return node.innerText\r\n            } else {\r\n                return node.textContent\r\n            }\r\n        }\r\n        \r\n    },\r\n    // 改 → 读写HTML内容\r\n    html(node, value) {\r\n        if (arguments.length === 2) {\r\n            node.innerHTML = value\r\n        } else if (arguments.length === 1) {\r\n            return node.innerHTML\r\n        }\r\n    },\r\n    // 改 → 修改style\r\n    style(node, obj, value) {\r\n        if (arguments.length === 3) {\r\n            // dom.style(node, 'color', 'red')\r\n            node.style[obj] = value\r\n        } else if (arguments.length === 2) {\r\n            if (typeof obj === 'string') {\r\n                // dom.style(node, 'color')\r\n                return node.style[obj]\r\n            } else if (obj instanceof Object) {\r\n                // dom.style(node, {color: 'red'})\r\n                for (let key in obj) {\r\n                    node.style[key] = obj[key]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    class: {\r\n        // 改 → 添加class\r\n        add(node, className) {\r\n            node.classList.add(className)\r\n        },\r\n        // 改 → 删除class\r\n        remove(node, className) {\r\n            node.classList.remove(className)\r\n        },\r\n        // 是否有这个class\r\n        has(node, className) {\r\n            return node.classList.contains(className)\r\n        }\r\n    },\r\n    // 改 → 添加事件监听\r\n    on(node, eventName, fn) {\r\n        node.addEventListener(eventName, fn)\r\n    },\r\n    // 改 → 删除事件监听\r\n    off(node, eventName, fn) {\r\n        node.removeEventListener(eventName, fn)\r\n    },\r\n    // 查 → 获取标签\r\n    find(selector, scope) {\r\n        return (scope || document).querySelectorAll(selector)\r\n    },\r\n    // 查 → 获取父元素\r\n    parent(node) {\r\n        return node.parentNode\r\n    },\r\n    // 查 → 获取子元素\r\n    children(node) {\r\n        // return node.childNodes // 包括回车、空格、标签；Node提供的API\r\n        return node.children // 只包括标签；Element提供的API\r\n    },\r\n    // 查 → 获取兄弟姐妹元素\r\n    siblings(node) {\r\n        return Array.from(node.parentNode.children).filter(n => n !== node)\r\n    },\r\n    // 查 → 获取弟弟\r\n    next(node) {\r\n        // return node.nextSibling // 含空格、回车等文本节点\r\n        // return node.nextElementSibling // 不含空格、回车等文本节点\r\n        let x = node.nextSibling\r\n        while(x && x.nodeType !== 1) {\r\n            x = x.nextSibling\r\n        }\r\n        return x\r\n    },\r\n    // 查 → 获取哥哥\r\n    previous(node) {\r\n        // return node.previousSibling // 含空格、回车等文本节点\r\n        // return node.previousElementSibling // 不含空格、回车等文本节点\r\n        let x = node.previousSibling\r\n        while(x && x.nodeType !== 1) {\r\n            x = x.previousSibling\r\n        }\r\n        return x\r\n    },\r\n    // 查 → 遍历所有节点\r\n    each(nodeList, fn) {\r\n        for(let i = 0; i < nodeList.length; i++) {\r\n            fn.call(null, nodeList[i])\r\n        }\r\n    },\r\n    // 查 → 获取排行老几\r\n    index(node) {\r\n        let x = Array.from(dom.children(dom.parent(node)))\r\n        for(let i = 0; i < x.length; i++) {\r\n            if(x[i] === node) {\r\n                return i + 1\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    // 作业 → find\r\n    find1(selector, scope) {\r\n        return (scope || document).querySelectorAll(selector)\r\n    },\r\n    // 作业 → style\r\n    style1(node, obj, value) {\r\n        if(arguments.length === 3) {\r\n            // dom.style1(node, 'color', 'red')\r\n            node.style[obj] = value\r\n        } else if (arguments.length === 2) {\r\n            if (typeof obj === 'string') { // 查看\r\n                // dom.style1(node,'color')\r\n                return node.style[obj]\r\n            } else if (obj instanceof Object) {\r\n                // dom.style1(node, {color: red})\r\n                for(let key in obj) {\r\n                    node.style[key] = obj[key]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    // 作业 → each\r\n    each1(nodeList, fn) {\r\n        for(let i = 0; i < nodeList.length; i++) {\r\n            fn(nodeList[i])\r\n        }\r\n    }\r\n}"]}